# 연계 데이터 구성
## 연계 요구사항 분석
- 서로 다른 두 시스템, 장치, 소프트웨어를 이어주는 중계 역할을 하는 연계 시스템과 관련된 요구사항을 분석하는 과정.

- 분석기법
인터뷰, 체크리스트, 설문지, 브레인스토밍, 델파이기법
델파이 기법 : 전문가의 경험적 지식을 통한 분석 기법

- 분석 참고 문서
코드 정의서, 테이블 정의서, 응용 프로그램 구성도, 시스템 구성도
테이블 정의서 : 데이터 모델링 정의서, 테이블/프로세스 연관도, 테이블별 컬럼 속성 정의서
응용프로그램 구성도 : 애플리케이션의 메뉴구성, 화면설계, 데이터 발생 시점, 주기, 발생 패턴 등 파악

- 개체 정의서 : 데이터베이스 개념 모델링 단계에서 도출한 개체의 타입과 관련 속성, 식별자 등의 정보를 개괄적으로 명세화한 정의서

- 테이블 정의서 : 논리 및 물리 모델링 과정에서 작성하는 설계 산출물로 테이블을 구성하는 컬럼들의 특성, 인덱스, 업무규칙을 문서화한 것.
컬럼의 특성은 컬럼명, 데이터타입, 길이, 널여부, 키 여부, 디폴트 값 등을 의미.

- 인터페이스 명세서 : 인터페이스 ID 별로 송수신하는 데이터 타입, 길이 등 인터페이스 항몽을 상세하게 작성한다.

- 인터페이스 명세서 구성요소
인터페이스 ID, 최대 처리 횟수, 데이터 크기, 시스템 정보, 데이터 정보

- 연계 요구사항 분석 절차
시스템 현황 확인 : 송수신 시스템 하드웨어 구성, 시스템 소프트웨어 구성, 네트워크 현황 확인
정의서 확인 : 연계하고자 하는 데이터 관련 테이블 정의서, 코드 정의서 확인
체크리스트 작성
인터뷰 및 면담
연계 요구사항 분석서 작성

- 연계 시스템의 구성
송신 시스템과 수신 시스템으로 구성, 방식에 따라 중계 서버를 둘 수 있다.

송신 시스템 : 연계할 데이터를 데이터베이스와 애플리케이션으로부터 __연계 테이블 또는 파일 형태로 생성하여 송신하는 시스템__
수신 시스템 : 수신한 연계 테이블 또는 파일의 데이터를 수신 시스템에서 관리하는 __데이터 형식에 맞게 변환__ 하여, 데이터베이스에 저장하거나 애플리케이션에서 활용할 수 있도록 제공하는 시스템
중계 서버 : __송수신 시스템 사이에서 데이터를 송수신하고__, 연계 데이터의 송수신 현황을 모니터링하는 시스템, 보안강화 및 다중 플랫폿 지원 등이 가능.

---

## 연계 메커니즘 구성
### 연계 메커니즘의 개념
- 응용 소프트웨어와 연계 대상 모듈간의 데이터 연계 시 요구사항을 고려한 연계 방법과 주기를 설계하기 위한 메커니즘

### 연계 메커니즘의 기능
- 데이터를 생성하여 전송하는 송신 시스템과 송신 데이터를 수신하여 DB에 반영하는 수신 시스템으로 구성된다.
- 송신 시스템은 운영 데이터베이스, 애플리케이션으로부터 연계 데이터를 연계 테이블 또는 파일로 생성하여 송신한다.
- 수신 시스템은 송신 시스템으로부터 전송된 데이터를 변환처리 후, 데이터베이스에 반영한다.

### 연계 방식
- 직접 연계
구현이 단순하며, 용이
개발 비용 및 기간이 짧음
중간 매개체가 없으므로 데이터 연계 처리 성능이 대체로 좋음.
시스템간 결합도가 높아 시스템 변경에 민감.
암복호화 처리 불가
연계 및 통합 가능한 시스템 환경이 제한적
- 간접연계
서로 상이한 네트워크, 프로토콜 연계 및 통합 가능
인터페이스 변경시에도 장애나 오류없이 서비스 가능
보안이나 업무 처리 로직을 자유롭게 반영 가능
매커니즘이 복잡해 성능 저하 요소 존재
테스트 기간이 상대적 장기간 소요

### 연계 방식 분류
- 직접 연계
DB링크 : 데이터베이스에서 제공해는 DB링크 객체 이용
수신 시스템에서 DB링크를 생성하고 송신 시스템에서 해당 DB링크를 직접 참조하는 방식
DB연결 : 수신 시스템의 WAS에서 송신 시스템 DB로 연결하는 DB 커넥션 풀을 생성, 연계 프로그램에서 해당 DB 커넥션 풀 명을 이용
API/Open API : 송신 시스템의 DB에서 데이터를 읽어서 제공하는 애플리케이션 프로그래밍 인터페이스 프로그램
JDBC : 수신 시스템의 프로그램에서 JDBC 드라이버를 이용하여 송신 시스템 DB와 연결
DBMS유형, DBMS 서버 IP, PORT, DB 인스턴스 정보가 필요
하이퍼링크 : 현재 페이지에서 다른 부분으로 가거나 전혀 다른 페이지로 이동하게 해주는 속성

- 간접 연계
__연계 솔루션(EAI)__ : 서로 다른 플랫폼 및 애플리케이션들 간의 정보전달, 연계, 통합을 가능하게 해주는 솔루션
__Web Service/ESB__ : 웹 서비스가 설명된 WSDL과 SOAP 프로토콜을 이용한 시스템 간 연계
소켓 : 소켓을 생성하여 포트 할당, 클라이언트 요청을 연결하여 통신

__WSDL__ : 웹 서비스명, 제공 위치, 메시지 포맷, 프로토콜 정보 등 웹 서비스에 대한 상세 정보를 기술한 파일
__SOAP__ : HTTP, HTTPS, SMTP 등을 사용하여 XML 기반의 메시지를 네트워크 상태에서 교환하는 프로토콜

### 연계 메커니즘 수행 절차
- 연계데이터 추출 및 생성
연계 솔루션과는 관계 없이 응용 프로그램에서 생성하거나 DB를 이용하는 등 응용 시스템별로 구현

- 코드 매핑 및 데이터 변환
송신 시스템에서 사용하는 코드를 수신 시스템에 전송해야할 경우 수신 시스템의 코드로 매핑및 변환하고, 데이터 타입 등이 상이할 경우 데이터 변환 작업을 수행

- 연계 테이블 또는 파일 생성
- 로그 기록
- 연계 서버 또는 송수신 어댑터
연계 서버는 송수신 시스템 둘 중 한곳에만 설치하며, 연계 테이블의 데이터를 전송 형식으로 변환, 대상관리, 송수신 여부관리 등 송수신과 관련된 모든 처리를 수행
- 전송 단계
송신 시스템에서 생성된 연계 데이터는 네트워크 환경에 따라 설정된 전송 형식으로 변환된 후, 연계 서버에서 수신 시스템으로 전송됨.
- 운영 DB에 연계 데이터 반영
수신된 데이터를 운영DB에 반영하는 과정으로 변환 프로그램을 별도로 구현
트리거와 같은 DBMS 오브젝트를 활용하여 실시간으로 반영하도록 구현

### 연계 장애 및 오류처리 구현
- 연계 시스템 오류
송수신, 전송 형식 변환 등의 오류
- 연계 프로그램 오류
데이터 추출을 위한 DB접근 시 권한 불충분
DB 반영을 위한 권한 불충분
데이터 변환, 반영 시 예외처리 미처리
- 연계 데이터 오류
송신 시스템에서 추출된 연계 데이터가 유효하지 않은 값으로 인한 오류

---

## 내외부 연계 모듈 구현
### 연계 모듈 기능 구현
- 개발하고자 하는 응용 소프트웨어와 연계 모듈 간의 세부 설계서를 확인하여 일관되고 정형화 된 연계 기능을 구현할 수 있다.
연계 모듈 기능 구현은 주로 EAI/ESB 방식과 웹 서비스 방식으로 구분됨.

### ESB
- 서로 다른 플랫폼 및 애플리케이션들 간의 정보 전달, 연계, 통합을 가능하게 해주는 솔루션
- 각 비즈니스간 통합 및 연계성을 증대시켜 효율성을 높여줄 수 있으며 각 시스템간 확장성을 높여줄 수 있다.

### EAI
- 서로 다른 플랫폼 및 애플리케이션들 간의 하나의 시스템으로 관리 운영할 수 있도록 서비스 중심의 통합을 지향하는 기술
- 버스를 중심으로 각각 프로토콜이 호환이 가능하도록 애플리케이션의 통합을 느슨한 결합 방식으로 지원하는 방식

### 웹 서비스 방식
- 네트워크에 분산된 정보를 서비스 형태로 개방하여 표준화된 방식으로 공유하는 기술로, 서비스 지향 아키텍처 개념을 실현하는 대표적인 기술

__SOAP__ : HTTP, HTTPS, SMTP 등을 사용하여 XML 기반의 메시지를 네트워크 상태에서 교환하는 프로토콜
HTTP 프로토콜 상에 SOAP Envelope, 헤더, 바디 등이 추가 된 XML 문서로 기본적인 송수신은 HTTP로 수행

__WSDL__ : Web Service Description Language의 약자.
웹 서비스명, 제공위치, 메시지 포맷, 프로토콜 정보 등 웹 서비스에 대한 상세 정보를 기술한 파일로 XML 형식으로 구현

__UDDI__ : Universal Description, Discovery and Integration
웹 서비스에 대한 정보인 WSDL을 등록하고 검색하기 위한 저장소로 공개적 접근, 검색이 가능한 레지스트리
알려진 송수신 시스템의 통합구현에서는 서비스의 공개 및 검색과정인 필요 없으므로 UDDI을 구축하지 않음.

- 웹 서비스 방식은 EAI/ESB 방식과는 달리 실제 전송이나 전송 이력에 대한 기록 및 모니터링 기능을 별도로 구현해야 함.

### 연계 테스트 및 검증
- 연계 테스트는 송수신 시스템을 연계하였을 경우 데이터의 정합성과 데이터 전송 여부에 대한 테스트이다.
- 테스트 케이스를 작성하고 작성된 테스트 케이스를 활용하여 연계 테스트를 수행한 후, 수행 결과를 검증하는 방식으로 진행

### 테스트 절차
- 연계 테스트 케이스 작성
송수신 시스템에서 확인해야 할 사항을 도출, 단위 테스트 케이스와 통합 테스트케이스를 작성
- 연계 테스트 수행
- 연계 테스트 수행 결과 검증
동작 단계별 오류 여부를 체크, 오류 발생 시 정확한 분석을 통해 해당하는 부분에 대한 오류수정을 한다.
